<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ğŸ–¼ï¸ Bing å›¾ç‰‡æœç´¢ + ä¸Šä¼ æµ‹è¯•</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    input, button {
      padding: 8px;
      margin: 5px 0;
      width: 100%;
    }
    img {
      margin-top: 20px;
      max-width: 100%;
      height: auto;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <h2>ğŸ” æµ‹è¯• Bing å›¾ç‰‡æœç´¢ + ä¸Šä¼ </h2>
  <form id="searchForm">
    <label for="product">å…³é”®è¯ï¼š</label>
    <input type="text" id="product" name="product" placeholder="ä¾‹å¦‚ï¼šçŒ«çŒ«" required>

    <label for="imgbb_key">imgbb API Keyï¼š</label>
    <input type="text" id="imgbb_key" name="imgbb_key" placeholder="è¯·è¾“å…¥ä½ çš„ imgbb API Key" required>

    <button type="submit">å¼€å§‹æœç´¢å¹¶ä¸Šä¼ </button>
  </form>

  <div id="result" style="margin-top: 20px;"></div>

  <script>
    document.getElementById("searchForm").addEventListener("submit", async function(event) {
      event.preventDefault();
      const product = document.getElementById("product").value;
      const imgbb_key = document.getElementById("imgbb_key").value;

      const response = await fetch(`/get_image_url?product=${encodeURIComponent(product)}&imgbb_key=${imgbb_key}`);
      const resultDiv = document.getElementById("result");

      if (response.ok) {
        const data = await response.json();
        resultDiv.innerHTML = `
          <p><strong>å›¾ç‰‡åœ°å€ï¼š</strong> <a href="${data.url}" target="_blank">${data.url}</a></p>
          <p><strong>Markdownï¼š</strong> <code>${data.markdown_embed}</code></p>
          <img src="${data.url}" alt="æœç´¢ç»“æœ">
        `;
      } else {
        const error = await response.json();
        resultDiv.innerHTML = `<p style="color:red;"><strong>é”™è¯¯ï¼š</strong> ${error.message}</p>`;
      }
    });
  </script>
</body>
</html>
